<template>
  <div>
    <h1 ref='myref1'>Hello t·ª´ Vue 3 Hook Tutorial trong Laravel 10 + Vite 5 üöÄ</h1>
    <h2 ref='myref2'>name: {{name}}</h2>
    <h3>App increase/decrease Number: </h3>
    <div>Number: {{counter}}</div>
    <br>
    <button @click="changeNumber(1)">Increase</button> |
    <button @click="changeNumber(-1)">Decrease</button>
    <hr>
    <h3>Blogs: </h3>
    <div v-for="(blog) in blogs" :key="blog.id" v-if="blogs.length">
        <h4>{{blog.title}}</h4>
        <p>{{blog.post}}</p>
    </div>
    <div v-else>
        <h4>Don't have blogs any</h4>
    </div>
    <hr>
    <h3>Turn: </h3>
    <div v-if="isOn">On</div>
    <div v-else="isOn">Off</div>
    <br>
    <button @click="changeIsOn()">Turn</button>
  </div>
</template>

<script>
// c√≥ th·ªÉ vi·∫øt script Vue ·ªü ƒë√¢y
export default {
    data() {
        return {
            name: 'QuangDev',
            counter: 0,
            blogs: [],
            isOn: false
        }
    },
    methods: {
        changeNumber(number) {
            this.counter += number
        },
        changeIsOn() {
            this.isOn = !this.isOn
        }
    },
    // ch·∫°y ngay khi component b·∫Øt ƒë·∫ßu kh·ªüi t·∫°o
    // data,method,computed ch∆∞a s·∫µn s√†ng
    // H·∫ßu nh∆∞ ko d√πng trong th·ª±c t·∫ø
    beforeCreate() {
        console.log('variable name: ', this.name)
    },
    // created l√† m·ªôt lifecycle hook (h√†m ch·∫°y ·ªü m·ªôt th·ªùi ƒëi·ªÉm nh·∫•t ƒë·ªãnh trong v√≤ng ƒë·ªùi component).
    // ch·∫°y ngay sau khi component ƒë∆∞·ª£c kh·ªüi t·∫°o, tr∆∞·ªõc khi render HTML ra DOM.
    // √Ω nghƒ©a: created() ‚Üí d·ªØ li·ªáu (data, methods) ƒë√£ s·∫µn s√†ng, nh∆∞ng DOM ch∆∞a render.
    // Th∆∞·ªùng d√πng ƒë·ªÉ g·ªçi API, chu·∫©n b·ªã d·ªØ li·ªáu ban ƒë·∫ßu
    created() {
        // call mostly initial data from it ...
        console.log('data and other function is available but not html', this.name)
        this.counter = 10
        let posts = [
            {
                title: "Title of blog 1", post: "The post of blog 1", id: 1
            },
            {
                title: "Title of blog 2", post: "The post of blog 2", id: 2
            },
            {
                title: "Title of blog 3", post: "The post of blog 3", id: 3
            },
            {
                title: "Title of blog 4", post: "The post of blog 4", id: 4
            }
        ]
        this.blogs = posts
    },
    // Ch·∫°y tr∆∞·ªõc khi component render ra
    // c≈©ng √≠t khi d√πng
    beforeMount() {

    },
    // Ch·∫°y khi DOM ƒë√£ render -> c√≥ th·ªÉ truy c·∫≠p v√† thao t√°c tr·ª±c ti·∫øp v√†o HTML (document.querySelector, ref)
    // Th∆∞·ªùng d√πng cho : th∆∞ vi·ªán UI b√™n ngo√†i nh∆∞ canvas, chart ...
    mounted() {
        console.log('access in DOM: ', this.$refs.myref1)
        console.log('access in DOM: ', this.$refs.myref2)
    },
    // Ch·∫°y tr∆∞·ªõc khi d·ªØ li·ªáu reactive thay ƒë·ªïi s·∫Ω l√†m c·∫≠p nh·∫≠t DOM.
    // C√≥ th·ªÉ ki·ªÉm tra gi√° tr·ªã c≈© tr∆∞·ªõc khi c·∫≠p nh·∫≠t UI.
    beforeUpdate() {

    },
    // Ch·∫°y sau khi DOM c·∫≠p nh·∫≠t xong khi d·ªØ li·ªáu thay ƒë·ªïi.
    // Th∆∞·ªùng d√πng ƒë·ªÉ x·ª≠ l√Ω logic ph·ª• thu·ªôc UI sau update.
    updated() {

    },
    // Ch·∫°y ngay tr∆∞·ªõc khi component b·ªã g·ª° b·ªè kh·ªèi DOM.
    // D√πng ƒë·ªÉ d·ªçn d·∫πp (clearInterval, remove event listener‚Ä¶).
    beforeUnmount() {

    },
    // Component ƒë√£ g·ª° b·ªè ho√†n to√†n.
    unmounted() {

    }
}
</script>

<style scoped>
h1 {
  color: #42b983;
}
</style>